<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.75, maximum-scale=1.0">
    <title>C++ Compiler</title>
    <style>
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div id="app"></div>
    
    <script>
        // Prevent zoom beyond 100%
        document.addEventListener('wheel', function(e) {
            if (e.ctrlKey) {
                e.preventDefault();
                
                // Get current zoom level
                let currentZoom = window.devicePixelRatio * 100;
                
                // If zooming in (Ctrl+Scroll up) and already at 100%, block it
                if (e.deltaY < 0 && currentZoom >= 100) {
                    return false;
                }
                
                // If zooming out below 75%, block it
                if (e.deltaY > 0 && currentZoom <= 75) {
                    return false;
                }
            }
        }, { passive: false });

        // Prevent Ctrl++, Ctrl+-, Ctrl+0 keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if ((e.ctrlKey || e.metaKey)) {
                if (e.key === '+' || e.key === '=' || e.key === '-' || e.key === '0') {
                    e.preventDefault();
                    
                    // Calculate current zoom
                    let currentZoom = window.devicePixelRatio * 100;
                    
                    // Block zoom in beyond 100%
                    if ((e.key === '+' || e.key === '=') && currentZoom >= 100) {
                        return false;
                    }
                    
                    // Block zoom out below 75%
                    if (e.key === '-' && currentZoom <= 75) {
                        return false;
                    }
                }
            }
        });

        // Prevent pinch zoom on touch devices
        let lastDistance = 0;
        document.addEventListener('touchmove', function(e) {
            if (e.touches.length === 2) {
                let distance = Math.hypot(
                    e.touches[0].clientX - e.touches[1].clientX,
                    e.touches[0].clientY - e.touches[1].clientY
                );
                
                if (lastDistance > 0) {
                    // If pinch trying to zoom in beyond 100%, prevent
                    if (distance > lastDistance && window.devicePixelRatio * 100 >= 100) {
                        e.preventDefault();
                    }
                    // If pinch trying to zoom out below 75%, prevent
                    if (distance < lastDistance && window.devicePixelRatio * 100 <= 75) {
                        e.preventDefault();
                    }
                }
                lastDistance = distance;
            } else {
                lastDistance = 0;
            }
        }, { passive: false });
    </script>
    
    <script src="main.dart.js" type="application/javascript"></script>
</body>
</html>
